(()=>{var e,t,i=Object.create,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,n=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,l=(e={"node_modules/slugify/slugify.js"(e,t){var i;i=function(){var r=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial"}`),a=JSON.parse('{"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"}}');function e(e,i){if("string"!=typeof e)throw new Error("slugify: string argument expected");var n=a[(i="string"==typeof i?{replacement:i}:i||{}).locale]||{},s=void 0===i.replacement?"-":i.replacement,t=void 0===i.trim||i.trim,e=e.normalize().split("").reduce(function(e,t){return e+(n[t]||r[t]||(t===s?" ":t)).replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(e=e.replace(/[^A-Za-z0-9\s]/g,"")),e=(e=t?e.trim():e).replace(/\s+/g,s),e=i.lower?e.toLowerCase():e}return e.extend=function(e){Object.assign(r,e)},e},"object"==typeof(e=e)?(t.exports=i(),t.exports.default=i()):"function"==typeof define&&define.amd?define(i):e.slugify=i()}},function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports}),c=class{valueOf(){}liquidMethodMissing(e){}},h=function(){return(h=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},u=Object.prototype.toString,d=String.prototype.toLowerCase;function p(e){return"string"==typeof e}function f(e){return"function"==typeof e}function g(e){return p(e=m(e))?e:b(e)?"":String(e)}function m(e){return e instanceof c?e.valueOf():e}function v(e){return"number"==typeof e}function b(e){return null==e}function y(e){return"[object Array]"===u.call(e)}function w(e,t){for(const i in e=e||{})if(e.hasOwnProperty(i)&&!1===t(e[i],i,e))break;return e}function _(e){return e[e.length-1]}function k(e){var t=typeof e;return null!==e&&("object"==t||"function"==t)}function T(t,i,n=1){const s=[];for(let e=t;e<i;e+=n)s.push(e);return s}function x(e,t,i=" "){return O(e,t,i,(e,t)=>t+e)}function O(e,t,i,n){let s=t-(e=String(e)).length;for(;0<s--;)e=n(e,i);return e}function E(e){return e}function S(e){return e.replace(/(\w?)([A-Z])/g,(e,t,i)=>(t?t+"_":"")+i.toLowerCase())}function j(e,t){return null==e&&null==t?0:null==e?1:null==t||(e=d.call(e))<(t=d.call(t))?-1:t<e?1:0}var q=class{constructor(e,t,i,n){this.key=e,this.value=t,this.next=i,this.prev=n}},N=class{constructor(e,t=0){this.limit=e,this.size=t,this.cache={},this.head=new q("HEAD",null,null,null),this.tail=new q("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,t){this.cache[e]?this.cache[e].value=t:(t=new q(e,t,this.head.next,this.head),this.head.next.prev=t,this.head.next=t,this.cache[e]=t,this.size++,this.ensureLimit())}read(e){if(this.cache[e]){var t=this.cache[e]["value"];return this.remove(e),this.write(e,t),t}}remove(e){const t=this.cache[e];t.prev.next=t.next,t.next.prev=t.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}};var L=Object.freeze({resolve:function(e,t,s){e.length&&"/"!==_(e)&&(e+="/");const i=function(e,t){const i=document.createElement("base");i.href=e;const n=document.getElementsByTagName("head")[0];n.insertBefore(i,n.firstChild);const s=document.createElement("a");return s.href=t,t=s.href,n.removeChild(i),t}(e,t);return i.replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(e,t,i)=>{var n=i.split("/").pop();return/\.\w+$/.test(n)?e:t+i+s})},readFile:async function(n){return new Promise((e,t)=>{const i=new XMLHttpRequest;i.onload=()=>{200<=i.status&&i.status<300?e(i.responseText):t(new Error(i.statusText))},i.onerror=()=>{t(new Error("An error occurred whilst receiving the response."))},i.open("GET",n),i.send()})},readFileSync:function(e){const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||300<=t.status)throw new Error(t.statusText);return t.responseText},exists:async function(e){return!0},existsSync:function(e){return!0}});function F(e){return e&&f(e.equals)}function R(e,t){return!A(e,t)}function A(e,t){return t.opts.jsTruthy?!e:!1===e||null==e}var P={"==":(e,t)=>F(e)?e.equals(t):F(t)?t.equals(e):e===t,"!=":(e,t)=>F(e)?!e.equals(t):F(t)?!t.equals(e):e!==t,">":(e,t)=>F(e)?e.gt(t):F(t)?t.lt(e):t<e,"<":(e,t)=>F(e)?e.lt(t):F(t)?t.gt(e):e<t,">=":(e,t)=>F(e)?e.geq(t):F(t)?t.leq(e):t<=e,"<=":(e,t)=>F(e)?e.leq(t):F(t)?t.geq(e):e<=t,contains:(e,t)=>!(!e||!f(e.indexOf))&&-1<e.indexOf(t),and:(e,t,i)=>R(e,i)&&R(t,i),or:(e,t,i)=>R(e,i)||R(t,i)},D=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=4,I=16;function C(e){var i,n,s={};for([i,n]of Object.entries(e)){let t=s;for(let e=0;e<i.length;e++){var r=i[e];t[r]=t[r]||{},e===i.length-1&&1&D[i.charCodeAt(e)]&&(t[r].needBoundary=!0),t=t[r]}t.handler=n,t.end=!0}return s}D[160]=D[5760]=D[6158]=D[8192]=D[8193]=D[8194]=D[8195]=D[8196]=D[8197]=D[8198]=D[8199]=D[8200]=D[8201]=D[8202]=D[8232]=D[8233]=D[8239]=D[8287]=D[12288]=M;var z=(new Date).getTimezoneOffset(),$=/([zZ]|([+-])(\d{2}):(\d{2}))$/,H=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,U=["January","February","March","April","May","June","July","August","September","October","November","December"],B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],V=U.map(W),Y=B.map(W),J={1:"st",2:"nd",3:"rd",default:"th"};function W(e){return e.slice(0,3)}function G(e){return[31,function(e){e=e.getFullYear();return!(0!=(3&e)||!(e%100||e%400==0&&e))}(e)?29:28,31,30,31,30,31,31,30,31,30,31]}function Z(t){let i=0;for(let e=0;e<t.getMonth();++e)i+=G(t)[e];return i+t.getDate()}function Q(e,t){var i=Z(e)+(t-e.getDay());const n=new Date(e.getFullYear(),0,1);t=7-n.getDay()+t;return String(Math.floor((i-t)/7)+1)}var K={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},X={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},ee={a:e=>Y[e.getDay()],A:e=>B[e.getDay()],b:e=>V[e.getMonth()],B:e=>U[e.getMonth()],c:e=>e.toLocaleString(),C:e=>function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e),d:e=>e.getDate(),e:e=>e.getDate(),H:e=>e.getHours(),I:e=>String(e.getHours()%12||12),j:e=>Z(e),k:e=>e.getHours(),l:e=>String(e.getHours()%12||12),L:e=>e.getMilliseconds(),m:e=>e.getMonth()+1,M:e=>e.getMinutes(),N:(e,t)=>{t=Number(t.width)||9;return O(String(e.getMilliseconds()).substr(0,t),t,"0",(e,t)=>e+t)},p:e=>e.getHours()<12?"AM":"PM",P:e=>e.getHours()<12?"am":"pm",q:e=>function(e){const t=e.getDate().toString();return e=parseInt(t.slice(-1)),J[e]||J.default}(e),s:e=>Math.round(e.valueOf()/1e3),S:e=>e.getSeconds(),u:e=>e.getDay()||7,U:e=>Q(e,0),w:e=>e.getDay(),W:e=>Q(e,1),x:e=>e.toLocaleDateString(),X:e=>e.toLocaleTimeString(),y:e=>e.getFullYear().toString().substring(2,4),Y:e=>e.getFullYear(),z:(e,t)=>{var i=Math.abs(z),n=Math.floor(i/60),i=i%60;return(0<z?"-":"+")+x(n,2,"0")+(t.flags[":"]?":":"")+x(i,2,"0")},t:()=>"\t",n:()=>"\n","%":()=>"%"};function te(e,t){let i="",n=t;for(var s;s=H.exec(n);)i+=n.slice(0,s.index),n=n.slice(s.index+s[0].length),i+=function(e,t){const[i,n="",s,r,a]=t,o=ee[a];if(!o)return i;const l={};for(const d of n)l[d]=!0;let c=String(o(e,{flags:l,width:s,modifier:r})),h=X[a]||"0",u=s||K[a]||0;l["^"]?c=c.toUpperCase():l["#"]&&(c=function(e){return[...e].some(e=>"a"<=e&&e<="z")?e.toUpperCase():e.toLowerCase()}(c));l._?h=" ":l[0]&&(h="0");l["-"]&&(u=0);return x(c,u,h)}(e,s);return i+n}ee.h=ee.b;var ie={root:["."],layouts:["."],partials:["."],cache:void 0,extname:"",fs:L,dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,lenientIf:!1,globals:{},keepOutputType:!1,timezoneOffset:z,operators:P,operatorsTrie:C(P)};function ne(e){return y(e)?e:p(e)?[e]:[]}var se=class extends Error{constructor(e,t){super(e.message),this.originalError=e,this.token=t,this.context=""}update(){var e=this.originalError;this.context=function(e){const[t]=e.getPosition(),i=e.input.split("\n"),n=Math.max(t-2,1),s=Math.min(t+3,i.length),r=T(n,s+1).map(e=>{return(e===t?">> ":"   ")+x(String(e),String(s).length)+"| "+i[e-1]}).join("\n");return r}(this.token),this.message=function(e,t){t.file&&(e+=", file:"+t.file);var[i,t]=t.getPosition();return e+=`, line:${i}, col:`+t}(e.message,this.token),this.stack=this.message+"\n"+this.context+"\n"+this.stack+"\nFrom "+e.stack}},re=class extends se{constructor(e,t){super(new Error(e),t),this.name="TokenizationError",super.update()}},ae=class extends se{constructor(e,t){super(e,t),this.name="ParseError",this.message=e.message,super.update()}},oe=class extends se{constructor(e,t){super(e,t.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return"RenderError"===e.name}},le=class extends se{constructor(e,t){super(e,t),this.name="UndefinedVariableError",this.message=e.message,super.update()}},ce=class extends Error{constructor(e){super("undefined variable: "+e),this.name="InternalUndefinedVariableError",this.variableName=e}},he=class extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}};var ue,de=class{constructor(e={},t=ie,i=!1){this.scopes=[{}],this.registers={},this.sync=i,this.opts=t,this.globals=t.globals,this.environments=e}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,t){return this.registers[e]=t}saveRegister(...e){return e.map(e=>[e,this.getRegister(e)])}restoreRegister(e){return e.forEach(([e,t])=>this.setRegister(e,t))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((e,t)=>h(e,t),{})}get(e){var t=this.findScope(e[0]);return this.getFromScope(t,e)}getFromScope(e,t){return(t="string"==typeof t?t.split("."):t).reduce((e,t)=>{if(e=function(e,t){if(b(e))return e;if(f((e=function e(t){return t&&f(t.toLiquid)?e(t.toLiquid()):t}(e))[t]))return e[t]();if(e instanceof c)return e.hasOwnProperty(t)?e[t]:e.liquidMethodMissing(t);return"size"===t?function(e){return y(e)||p(e)?e.length:e.size}(e):"first"===t?function(e){return y(e)?e[0]:e.first}(e):"last"===t?function(e){return y(e)?e[e.length-1]:e.last}(e):e[t]}(e,t),b(e)&&this.opts.strictVariables)throw new ce(t);return e},e)}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}findScope(t){for(let e=this.scopes.length-1;0<=e;e--){var i=this.scopes[e];if(t in i)return i}return t in this.environments?this.environments:this.globals}};(Et=ue=ue||{}).Partials="partials",Et.Layouts="layouts",Et.Root="root";var pe=class{constructor(e){this.options=e}*lookup(e,t,i){const n=this.options["fs"];t=this.options[t];for(const s of this.candidates(e,t))if(i?n.existsSync(s):yield n.exists(s))return s;throw this.lookupError(e,t)}*candidates(e,t){const{fs:i,extname:n}=this.options;for(const s of t)yield i.resolve(s,e,n);void 0===i.fallback||void 0!==(t=i.fallback(e))&&(yield t)}lookupError(e,t){const i=new Error("ENOENT");return i.message=`ENOENT: Failed to lookup "${e}" in "${t}"`,i.code="ENOENT",i}},fe=class{constructor(){this.buffer=""}write(e){this.buffer+=g(e)}},ge=class{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}};function me(t){const e={then:e=>e(t),catch:()=>e};return e}function ve(i){const n={then:(e,t)=>t?t(i):n,catch:e=>e(i)};return n}function be(n){return(e=n)&&f(e.then)?n:(e=n)&&f(e.next)&&f(e.throw)&&f(e.return)?function i(e){let t;try{t=n.next(e)}catch(e){return ve(e)}if(t.done)return me(t.value);return be(t.value).then(i,e=>{let t;try{t=n.throw(e)}catch(e){return ve(e)}return(t.done?me:i)(t.value)})}():me(n);var e}function ye(e){return Promise.resolve(be(e))}function we(e){let t;return be(e).then(e=>(t=e,me(t))).catch(e=>{throw e}),t}var _e,ke=class{constructor(){this.buffer=""}write(e){"string"!=typeof(e=m(e))&&""===this.buffer?this.buffer=e:this.buffer=g(this.buffer)+g(e)}},Te=class{renderTemplatesToNodeStream(e,t){const i=new ge;return Promise.resolve().then(()=>be(this.renderTemplates(e,t,i))).then(()=>i.end(),e=>i.error(e)),i.stream}*renderTemplates(e,t,i){i=i||new(t.opts.keepOutputType?ke:fe);for(const s of e)try{var n=yield s.render(t,i);if(n&&i.write(n),i.break||i.continue)break}catch(e){throw oe.is(e)?e:new oe(e,s)}return i.buffer}};function xe(e){return je(e)===_e.Operator}function Oe(e){return je(e)===_e.HTML}function Ee(e){return je(e)===_e.Tag}function Se(e){return je(e)===_e.Quoted}function je(e){return e?e.kind:-1}(kt=_e=_e||{})[kt.Number=1]="Number",kt[kt.Literal=2]="Literal",kt[kt.Tag=4]="Tag",kt[kt.Output=8]="Output",kt[kt.HTML=16]="HTML",kt[kt.Filter=32]="Filter",kt[kt.Hash=64]="Hash",kt[kt.PropertyAccess=128]="PropertyAccess",kt[kt.Word=256]="Word",kt[kt.Range=512]="Range",kt[kt.Quoted=1024]="Quoted",kt[kt.Operator=2048]="Operator",kt[kt.Delimited=12]="Delimited";var qe=class{constructor(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}on(e,t){return this.handlers[e]=t,this}trigger(e,t){const i=this.handlers[e];return!!i&&(i.call(this,t),!0)}start(){this.trigger("start");let e;for(;!this.stopRequested&&(e=this.tokens.shift());){var t;this.trigger("token",e)||Ee(e)&&this.trigger("tag:"+e.name,e)||(t=this.parseToken(e,this.tokens),this.trigger("template",t))}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}},Ne=class{constructor(e){this.token=e}};function Le(e,t){if(!e){e=t?t():`expect ${e} to be true`;throw new he(e)}}var Fe=class extends c{equals(e){return b(m(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}},Re=class extends c{equals(e){return!(e instanceof Re)&&(p(e=m(e))||y(e)?0===e.length:!!k(e)&&0===Object.keys(e).length)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}},Ae=class extends Re{equals(e){return!1===e||(!!b(m(e))||(p(e)?/^\s*$/.test(e):super.equals(e)))}},Pe=new Fe,De={true:!0,false:!1,nil:Pe,null:Pe,empty:new Re,blank:new Ae},Me=/[\da-fA-F]/,Ie=/[0-7]/,Ce={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function ze(e){e=e.charCodeAt(0);return 97<=e?e-87:65<=e?e-55:e-48}function $e(n){let s="";for(let i=1;i<n.length-1;i++)if("\\"===n[i])if(void 0!==Ce[n[i+1]])s+=Ce[n[++i]];else if("u"===n[i+1]){let e=0,t=i+2;for(;t<=i+5&&Me.test(n[t]);)e=16*e+ze(n[t++]);i=t-1,s+=String.fromCharCode(e)}else if(Ie.test(n[i+1])){let e=i+1,t=0;for(;e<=i+3&&Ie.test(n[e]);)t=8*t+ze(n[e++]);i=e-1,s+=String.fromCharCode(t)}else s+=n[++i];else s+=n[i];return s}var He=class{constructor(e){this.postfix=[...function*(e){const t=[];for(const i of e)if(xe(i)){for(;t.length&&t[t.length-1].getPrecedence()>i.getPrecedence();)yield t.pop();t.push(i)}else yield i;for(;t.length;)yield t.pop()}(e)]}*evaluate(e,t){Le(e,()=>"unable to evaluate: context not defined");const i=[];for(const r of this.postfix){var n,s;xe(r)?(s=yield i.pop(),n=yield i.pop(),s=function(e,t,i,n,s){const r=e[t.operator];return r(i,n,s)}(e.opts.operators,r,n,s,e),i.push(s)):i.push(yield Ue(r,e,t&&1===this.postfix.length))}return i[0]}};function Ue(e,t,i=!1){return je(e)===_e.PropertyAccess?function(t,i,n){var e=t.props.map(e=>Ue(e,i,!1));try{return i.get([t.propertyName,...e])}catch(e){if(n&&"InternalUndefinedVariableError"===e.name)return null;throw new le(e,t)}}(e,t,i):je(e)===_e.Range?(n=t,t=Ue((i=e).lhs,n),n=Ue(i.rhs,n),T(+t,+n+1)):je(e)===_e.Literal?De[e.literal]:je(e)===_e.Number?function(e){e=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(e)}(e):je(e)===_e.Word?e.getText():Se(e)?Be(e):void 0;var n}function Be(e){return $e(e.getText())}var Ve=class{constructor(e,t,i,n,s){this.kind=e,this.input=t,this.begin=i,this.end=n,this.file=s}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[t,i]=[1,1];for(let e=0;e<this.begin;e++)"\n"===this.input[e]?(t++,i=1):i++;return[t,i]}size(){return this.end-this.begin}},Ye=class extends Ve{constructor(e,t,i,n,s,r,a,o){super(e,i,n,s,o),this.trimLeft=!1,this.trimRight=!1,this.content=this.getText();s="-"===t[0],o="-"===_(t);this.content=t.slice(s?1:0,o?-1:t.length).trim(),this.trimLeft=s||r,this.trimRight=o||a}};function Je(t,i){let n=!1;for(let e=0;e<t.length;e++){var s=t[e];je(s)&_e.Delimited&&(!n&&s.trimLeft&&function(e,t){if(e&&Oe(e))for(var i=t?M:I;D[e.input.charCodeAt(e.end-1-e.trimRight)]&i;)e.trimRight++}(t[e-1],i.greedy),Ee(s)&&("raw"===s.name?n=!0:"endraw"===s.name&&(n=!1)),!n&&s.trimRight&&function(e,t){if(e&&Oe(e)){for(var i=t?M:I;D[e.input.charCodeAt(e.begin+e.trimLeft)]&i;)e.trimLeft++;"\n"===e.input.charAt(e.begin+e.trimLeft)&&e.trimLeft++}}(t[e+1],i.greedy))}}var We=class extends Ve{constructor(e,t){super(_e.Number,e.input,e.begin,(t||e).end,e.file),this.whole=e,this.decimal=t}},Ge=class extends Ve{constructor(e,t,i,n){super(_e.Word,e,t,i,n),this.input=e,this.begin=t,this.end=i,this.file=n,this.content=this.getText()}isNumber(t=!1){for(let e=t&&64&D[this.input.charCodeAt(this.begin)]?this.begin+1:this.begin;e<this.end;e++)if(!(32&D[this.input.charCodeAt(e)]))return!1;return!0}},Ze=class extends Ve{constructor(e,t,i,n){super(_e.Literal,e,t,i,n),this.input=e,this.begin=t,this.end=i,this.file=n,this.literal=this.getText()}},Qe={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},Ke=class extends Ve{constructor(e,t,i,n){super(_e.Operator,e,t,i,n),this.input=e,this.begin=t,this.end=i,this.file=n,this.operator=this.getText()}getPrecedence(){var e=this.getText();return e in Qe?Qe[e]:1}},Xe=class extends Ve{constructor(e,t,i){super(_e.PropertyAccess,e.input,e.begin,i,e.file),this.variable=e,this.props=t,this.propertyName=this.variable instanceof Ge?this.variable.getText():$e(this.variable.getText())}},et=class extends Ve{constructor(e,t,i,n,s,r){super(_e.Filter,i,n,s,r),this.name=e,this.args=t}},tt=class extends Ve{constructor(e,t,i,n,s,r){super(_e.Hash,e,t,i,r),this.input=e,this.begin=t,this.end=i,this.name=n,this.value=s,this.file=r}},it=class extends Ve{constructor(e,t,i,n){super(_e.Quoted,e,t,i,n),this.input=e,this.begin=t,this.end=i,this.file=n}},nt=class extends Ve{constructor(e,t,i,n){super(_e.HTML,e,t,i,n),this.input=e,this.begin=t,this.end=i,this.file=n,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}},st=class extends Ve{constructor(e,t,i,n,s,r){super(_e.Range,e,t,i,r),this.input=e,this.begin=t,this.end=i,this.lhs=n,this.rhs=s,this.file=r}},rt=class extends Ye{constructor(e,t,i,n,s){var{trimOutputLeft:r,trimOutputRight:a,outputDelimiterLeft:o,outputDelimiterRight:n}=n,n=e.slice(t+o.length,i-n.length);super(_e.Output,n,e,t,i,r,a,s)}};var at=class{constructor(e,t,i=""){this.input=e,this.trie=t,this.file=i,this.p=0,this.rawBeginAt=-1,this.N=e.length}readExpression(){return new He(this.readExpressionTokens())}*readExpressionTokens(){var e=this.readValue();if(e)for(yield e;this.p<this.N;){var t=this.readOperator();if(!t)return;var i=this.readValue();if(!i)return;yield t,yield i}}readOperator(){this.skipBlank();var e=function(e,t,i,n){let s=i,r=t,a;for(;s[e[r]]&&r<n;)s=s[e[r++]],s.end&&(a=s);return!a||a.needBoundary&&1&D[e.charCodeAt(r)]?-1:r}(this.input,this.p,this.trie,this.p+8);if(-1!==e)return new Ke(this.input,this.p,this.p=e,this.file)}readFilters(){const e=[];for(;;){var t=this.readFilter();if(!t)return e;e.push(t)}}readFilter(){if(this.skipBlank(),this.end())return null;Le("|"===this.peek(),()=>"unexpected token at "+this.snapshot()),this.p++;var e=this.p;const t=this.readIdentifier();if(!t.size())return null;const i=[];if(this.skipBlank(),":"===this.peek())do{++this.p;var n=this.readFilterArg();for(n&&i.push(n);this.p<this.N&&","!==this.peek()&&"|"!==this.peek();)++this.p}while(","===this.peek());return new et(t.getText(),i,this.input,e,this.p,this.file)}readFilterArg(){const e=this.readValue();if(e){if(this.skipBlank(),":"!==this.peek())return e;++this.p;var t=this.readValue();return[e.getText(),t]}}readTopLevelTokens(e=ie){const t=[];for(;this.p<this.N;){var i=this.readTopLevelToken(e);t.push(i)}return Je(t,e),t}readTopLevelToken(e){var{tagDelimiterLeft:t,outputDelimiterLeft:i}=e;return-1<this.rawBeginAt?this.readEndrawOrRawContent(e):this.match(t)?this.readTagToken(e):this.match(i)?this.readOutputToken(e):this.readHTMLToken(e)}readHTMLToken(e){for(var t=this.p;this.p<this.N;){var{tagDelimiterLeft:i,outputDelimiterLeft:n}=e;if(this.match(i))break;if(this.match(n))break;++this.p}return new nt(this.input,t,this.p,this.file)}readTagToken(e=ie){var{file:t,input:i}=this,n=this.p;if(-1===this.readToDelimiter(e.tagDelimiterRight))throw this.mkError(`tag ${this.snapshot(n)} not closed`,n);t=new ot(i,n,this.p,e,t);return"raw"===t.name&&(this.rawBeginAt=n),t}readToDelimiter(e){for(;this.p<this.N;)if(8&this.peekType())this.readQuoted();else if(++this.p,this.rmatch(e))return this.p;return-1}readOutputToken(e=ie){var{file:t,input:i}=this,n=e["outputDelimiterRight"],s=this.p;if(-1===this.readToDelimiter(n))throw this.mkError(`output ${this.snapshot(s)} not closed`,s);return new rt(i,s,this.p,e,t)}readEndrawOrRawContent(e){var{tagDelimiterLeft:t,tagDelimiterRight:i}=e,n=this.p;let s=this.readTo(t)-t.length;for(;this.p<this.N;)if("endraw"===this.readIdentifier().getText())for(;this.p<=this.N;){if(this.rmatch(i)){var r=this.p;return n===s?(this.rawBeginAt=-1,new ot(this.input,n,r,e,this.file)):(this.p=s,new nt(this.input,n,s,this.file))}if(this.rmatch(t))break;this.p++}else s=this.readTo(t)-t.length;throw this.mkError(`raw ${this.snapshot(this.rawBeginAt)} not closed`,n)}mkError(e,t){return new re(e,new Ge(this.input,t,this.N,this.file))}snapshot(e=this.p){return JSON.stringify((t=this.input.slice(e),e=16,t.length>e?t.substr(0,e-3)+"...":t));var t}readWord(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()}readIdentifier(){this.skipBlank();for(var e=this.p;1&this.peekType();)++this.p;return new Ge(this.input,e,this.p,this.file)}readHashes(){const e=[];for(;;){var t=this.readHash();if(!t)return e;e.push(t)}}readHash(){this.skipBlank(),","===this.peek()&&++this.p;var t=this.p;const i=this.readIdentifier();if(i.size()){let e;return this.skipBlank(),":"===this.peek()&&(++this.p,e=this.readValue()),new tt(this.input,t,this.p,i,e,this.file)}}remaining(){return this.input.slice(this.p)}advance(e=1){this.p+=e}end(){return this.p>=this.N}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){var e=this.readQuoted()||this.readRange();if(e)return e;if("["===this.peek()){this.p++;e=this.readQuoted();return e?"]"!==this.peek()?void 0:(this.p++,new Xe(e,[],this.p)):void 0}const t=this.readIdentifier();if(t.size()){let e=t.isNumber(!0);const n=[];for(;;)if("["===this.peek()){e=!1,this.p++;var i=this.readValue()||new Ge(this.input,this.p,this.p,this.file);this.readTo("]"),n.push(i)}else{if("."!==this.peek()||"."===this.peek(1))break;{this.p++;const s=this.readIdentifier();if(!s.size())break;s.isNumber()||(e=!1),n.push(s)}}return!n.length&&De.hasOwnProperty(t.content)?new Ze(this.input,t.begin,t.end,this.file):e?new We(t,n[0]):new Xe(t,n,this.p)}}readRange(){this.skipBlank();var e=this.p;if("("===this.peek()){++this.p;var t=this.readValueOrThrow();this.p+=2;var i=this.readValueOrThrow();return++this.p,new st(this.input,e,this.p,t,i,this.file)}}readValueOrThrow(){var e=this.readValue();return Le(e,()=>`unexpected token ${this.snapshot()}, value expected`),e}readQuoted(){this.skipBlank();var t=this.p;if(8&this.peekType()){++this.p;let e=!1;for(;this.p<this.N&&(++this.p,this.input[this.p-1]!==this.input[t]||e);)e?e=!1:"\\"===this.input[this.p-1]&&(e=!0);return new it(this.input,t,this.p,this.file)}}readFileName(){for(var e=this.p;!(this.peekType()&M)&&","!==this.peek()&&this.p<this.N;)this.p++;return new Ge(this.input,e,this.p,this.file)}match(t){for(let e=0;e<t.length;e++)if(t[e]!==this.input[this.p+e])return!1;return!0}rmatch(t){for(let e=0;e<t.length;e++)if(t[t.length-1-e]!==this.input[this.p-1-e])return!1;return!0}peekType(e=0){return D[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.input[this.p+e]}skipBlank(){for(;this.peekType()&M;)++this.p}},ot=class extends Ye{constructor(e,t,i,n,s){var{trimTagLeft:r,trimTagRight:a,tagDelimiterLeft:o,tagDelimiterRight:l}=n,l=e.slice(t+o.length,i-l.length);super(_e.Tag,l,e,t,i,r,a,s);const c=new at(this.content,n.operatorsTrie);if(this.name=c.readIdentifier().getText(),!this.name)throw new re("illegal tag syntax",this);c.skipBlank(),this.args=c.remaining()}},lt=class{constructor(e){this.hash={};const t=new at(e,{});for(const i of t.readHashes())this.hash[i.name.content]=i.value}*render(e){const t={};for(const i of Object.keys(this.hash))t[i]=void 0===this.hash[i]||(yield Ue(this.hash[i],e));return t}};var ct=class{constructor(e,t,i,n){this.name=e,this.impl=t||E,this.args=i,this.liquid=n}render(e,t){const i=[];for(const n of this.args)y(n)?i.push([n[0],Ue(n[1],t)]):i.push(Ue(n,t));return this.impl.apply({context:t,liquid:this.liquid},[e,...i])}},ht=class{constructor(e,i){this.filters=[];const t=new at(e,i.options.operatorsTrie);this.initial=t.readExpression(),this.filters=t.readFilters().map(({name:e,args:t})=>new ct(e,i.filters.get(e),t,i))}*value(e,t){t=t||e.opts.lenientIf&&0<this.filters.length&&"default"===this.filters[0].name;let i=yield this.initial.evaluate(e,t);for(const n of this.filters)i=yield n.render(i,e);return i}},ut=class extends Ne{constructor(e,t,i){super(e),this.name=e.name;var n=i.tags.get(e.name);this.impl=Object.create(n),this.impl.liquid=i,this.impl.parse&&this.impl.parse(e,t)}*render(e,t){var i=yield new lt(this.token.args).render(e);const n=this.impl;if(f(n.render))return yield n.render(e,t,i)}},dt=class extends Ne{constructor(e,t){super(e),this.value=new ht(e.content,t)}*render(e,t){e=yield this.value.value(e,!1);t.write(e)}},pt=class extends Ne{constructor(e){super(e),this.str=e.getContent()}*render(e,t){t.write(this.str)}},ft=class{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new pe(this.liquid.options)}parse(e,t){const i=new at(e,this.liquid.options.operatorsTrie,t);t=i.readTopLevelTokens(this.liquid.options);return this.parseTokens(t)}parseTokens(e){var t;const i=[];for(;t=e.shift();)i.push(this.parseToken(t,e));return i}parseToken(t,e){try{return Ee(t)?new ut(t,e,this.liquid):je(t)===_e.Output?new dt(t,this.liquid):new pt(t)}catch(e){throw new ae(e,t)}}parseStream(e){return new qe(e,(e,t)=>this.parseToken(e,t))}*_parseFileCached(e,t,i=ue.Root){i=i+":"+e;let n=yield this.cache.read(i);return n||(n=yield this._parseFile(e,t),this.cache.write(i,n),n)}*_parseFile(e,t,i=ue.Root){i=yield this.loader.lookup(e,i,t);return this.liquid.parse(t?this.fs.readFileSync(i):yield this.fs.readFile(i),i)}},gt={parse:function(e){const t=new at(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),Le("="===t.peek(),()=>"illegal token "+e.getText()),t.advance(),this.value=t.remaining()},render:function*(e){e.bottom()[this.key]=yield this.liquid._evalValue(this.value,e)}};function mt(t){return y(t)?t:p(t)&&0<t.length?[t]:k(t)?Object.keys(t).map(e=>[e,t[e]]):[]}function vt(e){return y(e)?e:[e]}var bt=class extends c{constructor(e){super(),this.i=0,this.length=e}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return 0===this.i}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}},yt=["offset","limit","reversed"],wt={type:"block",parse:function(e,t){const i=new at(e.args,this.liquid.options.operatorsTrie),n=i.readIdentifier();var s=i.readIdentifier(),r=i.readValue();Le(n.size()&&"in"===s.content&&r,()=>"illegal tag: "+e.getText()),this.variable=n.content,this.collection=r,this.hash=new lt(i.remaining()),this.templates=[],this.elseTemplates=[];let a;const o=this.liquid.parser.parseStream(t).on("start",()=>a=this.templates).on("tag:else",()=>a=this.elseTemplates).on("tag:endfor",()=>o.stop()).on("template",e=>a.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});o.start()},render:function*(e,t){const i=this.liquid.renderer;var n=mt(yield Ue(this.collection,e));if(n.length){const s=yield this.hash.render(e),r=this.liquid.options.orderedFilterParameters?Object.keys(s).filter(e=>yt.includes(e)):yt.filter(e=>void 0!==s[e]);n=r.reduce((e,t)=>{return"offset"===t?(i=e,n=s.offset,i.slice(n)):"limit"===t?(n=e,t=s.limit,n.slice(0,t)):[...e].reverse();var i,n},n);const a={forloop:new bt(n.length)};e.push(a);for(const o of n){if(a[this.variable]=o,yield i.renderTemplates(this.templates,e,t),t.break){t.break=!1;break}t.continue=!1,a.forloop.next()}e.pop()}else yield i.renderTemplates(this.elseTemplates,e,t)}};L={parse:function(e,t){var i=new at(e.args,this.liquid.options.operatorsTrie);this.variable=function(e){var t=e.readIdentifier().content;if(t)return t;e=e.readQuoted();return e?Be(e):void 0}(i),Le(this.variable,()=>e.args+" not valid identifier"),this.templates=[];const n=this.liquid.parser.parseStream(t);n.on("tag:endcapture",()=>n.stop()).on("template",e=>this.templates.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}),n.start()},render:function*(e){const t=this.liquid.renderer;var i=yield t.renderTemplates(this.templates,e);e.bottom()[this.variable]=i}};P={parse:function(e,t){this.cond=new ht(e.args,this.liquid),this.cases=[],this.elseTemplates=[];let n=[];const i=this.liquid.parser.parseStream(t).on("tag:when",e=>{n=[];const t=new at(e.args,this.liquid.options.operatorsTrie);for(;!t.end();){var i=t.readValue();this.cases.push({val:i,templates:n}),t.readTo(",")}}).on("tag:else",()=>n=this.elseTemplates).on("tag:endcase",()=>i.stop()).on("template",e=>n.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});i.start()},render:function*(e,t){const i=this.liquid.renderer;var n=m(yield this.cond.value(e,e.opts.lenientIf));for(const s of this.cases)if(Ue(s.val,e,e.opts.lenientIf)===n)return void(yield i.renderTemplates(s.templates,e,t));yield i.renderTemplates(this.elseTemplates,e,t)}},se={parse:function(e,t){const i=this.liquid.parser.parseStream(t);i.on("token",e=>{"endcomment"===e.name&&i.stop()}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}),i.start()}};(Et=St=St||{})[Et.OUTPUT=0]="OUTPUT",Et[Et.STORE=1]="STORE";var _t=St,kt={parseFilePath:Tt,renderFilePath:xt,parse:function(e){e=e.args;const t=new at(e,this.liquid.options.operatorsTrie);for(this.file=this.parseFilePath(t,this.liquid);!t.end();){t.skipBlank();var i=t.p,n=t.readIdentifier();if(("with"===n.content||"for"===n.content)&&(t.skipBlank(),":"!==t.peek())){var s=t.readValue();if(s){var r=t.p;let e;"as"===t.readIdentifier().content?e=t.readIdentifier():t.p=r,this[n.content]={value:s,alias:e&&e.content},t.skipBlank(),","===t.peek()&&t.advance();continue}}t.p=i;break}this.hash=new lt(t.remaining())},render:function*(e,t){const{liquid:i,hash:n}=this,s=yield this.renderFilePath(this.file,e,i);Le(s,()=>`illegal filename "${s}"`);const r=new de({},e.opts,e.sync),a=yield n.render(e);var o,l;if(this.with&&({value:o,alias:l}=this.with,a[l||s]=Ue(o,e)),r.push(a),this.for){var{value:c,alias:h}=this.for,c=mt(c=Ue(c,e));a.forloop=new bt(c.length);for(const d of c){a[h]=d;var u=yield i._parsePartialFile(s,r.sync);yield i.renderer.renderTemplates(u,r,t),a.forloop.next()}}else{c=yield i._parsePartialFile(s,r.sync);yield i.renderer.renderTemplates(c,r,t)}}};function Tt(e,t){if(t.options.dynamicPartials){const i=e.readValue();if(void 0===i)throw new TypeError(`illegal argument "${e.input}"`);if("none"===i.getText())return null;if(Se(i)){const n=t.parse(Be(i));return 1===n.length&&Oe(n[0].token)?n[0].token.getContent():n}return i}e=e.readFileName().getText();return"none"===e?null:e}function xt(e,t,i){return"string"==typeof e?e:Array.isArray(e)?i.renderer.renderTemplates(e,t):Ue(e,t)}var Fe={parseFilePath:Tt,renderFilePath:xt,parse:function(e){e=e.args;const t=new at(e,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(t,this.liquid);e=t.p;"with"===t.readIdentifier().content?(t.skipBlank(),":"!==t.peek()?this.withVar=t.readValue():t.p=e):t.p=e,this.hash=new lt(t.remaining())},render:function*(e,t){const{liquid:i,hash:n,withVar:s}=this,r=i["renderer"],a=yield this.renderFilePath(this.file,e,i);Le(a,()=>`illegal filename "${a}"`);var o=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",_t.OUTPUT);const l=yield n.render(e);s&&(l[a]=Ue(s,e));var c=yield i._parsePartialFile(a,e.sync);e.push(l),yield r.renderTemplates(c,e,t),e.pop(),e.restoreRegister(o)}},Pe={parse:function(e){const t=new at(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){const i=e.environments;v(i[this.variable])||(i[this.variable]=0),t.write(g(--i[this.variable]))}},Ae={parse:function(e){const t=new at(e.args,this.liquid.options.operatorsTrie);var i=t.readValue();for(t.skipBlank(),this.candidates=[],i&&(":"===t.peek()?(this.group=i,t.advance()):this.candidates.push(i));!t.end();){var n=t.readValue();n&&this.candidates.push(n),t.readTo(",")}Le(this.candidates.length,()=>"empty candidates: "+e.getText())},render:function(e,t){var i=`cycle:${Ue(this.group,e)}:`+this.candidates.join(",");const n=e.getRegister("cycle");let s=n[i];void 0===s&&(s=n[i]=0);var r=this.candidates[s];s=(s+1)%this.candidates.length,n[i]=s;e=Ue(r,e);t.write(e)}},Ve={parse:function(e,t){this.branches=[],this.elseTemplates=[];let i;this.liquid.parser.parseStream(t).on("start",()=>this.branches.push({predicate:new ht(e.args,this.liquid),templates:i=[]})).on("tag:elsif",e=>this.branches.push({predicate:new ht(e.args,this.liquid),templates:i=[]})).on("tag:else",()=>i=this.elseTemplates).on("tag:endif",function(){this.stop()}).on("template",e=>i.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()},render:function*(e,t){const i=this.liquid.renderer;for(var{predicate:n,templates:s}of this.branches)if(R(yield n.value(e,e.opts.lenientIf),e))return void(yield i.renderTemplates(s,e,t));yield i.renderTemplates(this.elseTemplates,e,t)}},Ye={parse:function(e){const t=new at(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){const i=e.environments;v(i[this.variable])||(i[this.variable]=0);e=i[this.variable];i[this.variable]++,t.write(g(e))}},Ne={parseFilePath:Tt,renderFilePath:xt,parse:function(e,t){const i=new at(e.args,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(i,this.liquid),this.hash=new lt(i.remaining()),this.tpls=this.liquid.parser.parseTokens(t)},render:function*(e,t){const{liquid:i,hash:n,file:s}=this,r=i["renderer"];if(null===s)return e.setRegister("blockMode",_t.OUTPUT),void(yield r.renderTemplates(this.tpls,e,t));const a=yield this.renderFilePath(this.file,e,i);Le(a,()=>`illegal filename "${a}"`);var o=yield i._parseLayoutFile(a,e.sync);e.setRegister("blockMode",_t.STORE);const l=yield r.renderTemplates(this.tpls,e),c=e.getRegister("blocks");void 0===c[""]&&(c[""]=(e,t)=>t.write(l)),e.setRegister("blockMode",_t.OUTPUT),e.push(yield n.render(e)),yield r.renderTemplates(o,e,t),e.pop()}},Ot=class extends c{constructor(e=()=>""){super(),this.superBlockRender=e}super(){return this.superBlockRender()}},Et={parse(e,t){var i=/\w+/.exec(e.args);this.block=i?i[0]:"",this.tpls=[],this.liquid.parser.parseStream(t).on("tag:endblock",function(){this.stop()}).on("template",e=>this.tpls.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()},*render(e,t){const i=this.getBlockRender(e);e.getRegister("blockMode")===_t.STORE?e.getRegister("blocks")[this.block]=i:yield i(new Ot,t)},getBlockRender(i){function*n(e,t){i.push({block:e}),yield s.renderer.renderTemplates(r,i,t),i.pop()}const{liquid:s,tpls:r}=this,a=i.getRegister("blocks")[this.block];return a?(e,t)=>a(new Ot(()=>n(e,t)),t):n}},St={parse:function(e,t){this.tokens=[];const i=this.liquid.parser.parseStream(t);i.on("token",e=>{"endraw"===e.name?i.stop():this.tokens.push(e)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}),i.start()},render:function(){return this.tokens.map(e=>e.getText()).join("")}},jt=class extends bt{constructor(e,t){super(e),this.length=e,this.cols=t}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return 0===this.col0()}col_last(){return this.col()===this.cols}},qt={assign:gt,for:wt,capture:L,case:P,comment:se,include:Fe,render:kt,decrement:Pe,increment:Ye,cycle:Ae,if:Ve,layout:Ne,block:Et,raw:St,tablerow:{parse:function(e,t){const i=new at(e.args,this.liquid.options.operatorsTrie);this.variable=i.readIdentifier(),i.skipBlank();var n=i.readIdentifier();Le(n&&"in"===n.content,()=>"illegal tag: "+e.getText()),this.collection=i.readValue(),this.hash=new lt(i.remaining()),this.templates=[];let s;const r=this.liquid.parser.parseStream(t).on("start",()=>s=this.templates).on("tag:endtablerow",()=>r.stop()).on("template",e=>s.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});r.start()},render:function*(t,i){let n=mt(yield Ue(this.collection,t));var e=yield this.hash.render(t),s=e.offset||0,r=void 0===e.limit?n.length:e.limit;n=n.slice(s,s+r);e=e.cols||n.length;const a=this.liquid.renderer,o=new jt(n.length,e),l={tablerowloop:o};t.push(l);for(let e=0;e<n.length;e++,o.next())l[this.variable.content]=n[e],0===o.col0()&&(1!==o.row()&&i.write("</tr>"),i.write(`<tr class="row${o.row()}">`)),i.write(`<td class="col${o.col()}">`),yield a.renderTemplates(this.templates,t,i),i.write("</td>");n.length&&i.write("</tr>"),t.pop()}},unless:{parse:function(e,t){this.branches=[],this.elseTemplates=[];let i;this.liquid.parser.parseStream(t).on("start",()=>this.branches.push({predicate:new ht(e.args,this.liquid),test:A,templates:i=[]})).on("tag:elsif",e=>this.branches.push({predicate:new ht(e.args,this.liquid),test:R,templates:i=[]})).on("tag:else",()=>i=this.elseTemplates).on("tag:endunless",function(){this.stop()}).on("template",e=>i.push(e)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()},render:function*(e,t){const i=this.liquid.renderer;for(var{predicate:n,test:s,templates:r}of this.branches){n=yield n.value(e,e.opts.lenientIf);if(s(n,e))return void(yield i.renderTemplates(r,e,t))}yield i.renderTemplates(this.elseTemplates,e,t)}},break:{render:function(e,t){t.break=!0}},continue:{render:function(e,t){t.continue=!0}}},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},Lt={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function Ft(e){return g(e).replace(/&|<|>|"|'/g,e=>Nt[e])}Ae=Math.abs,Ve=Math.max,Ne=Math.min,Et=Math.ceil,St=Math.floor;var Rt=Object.freeze({escape:Ft,escapeOnce:function(e){return Ft(String(e).replace(/&(amp|lt|gt|#34|#39);/g,e=>Lt[e]))},newlineToBr:function(e){return e.replace(/\n/g,"<br />\n")},stripHtml:function(e){return e.replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")},abs:Ae,atLeast:Ve,atMost:Ne,ceil:Et,dividedBy:(e,t)=>e/t,floor:St,minus:(e,t)=>e-t,modulo:(e,t)=>e%t,times:(e,t)=>e*t,round:function(e,t=0){return t=Math.pow(10,t),Math.round(e*t)/t},plus:function(e,t){return Number(e)+Number(t)},sortNatural:function(e,i){return e&&e.sort?void 0!==i?[...e].sort((e,t)=>j(e[i],t[i])):[...e].sort(j):[]},urlDecode:e=>e.split("+").map(decodeURIComponent).join(" "),urlEncode:e=>e.split(" ").map(encodeURIComponent).join("+"),join:(e,t)=>e.join(void 0===t?" ":t),last:e=>y(e)?_(e):"",first:e=>y(e)?e[0]:"",reverse:e=>[...e].reverse(),sort:function(e,t){const i=e=>t?this.context.getFromScope(e,t.split(".")):e;return vt(e).sort((e,t)=>(e=i(e))<(t=i(t))?-1:t<e?1:0)},size:e=>e&&e.length||0,map:function(e,t){return vt(e).map(e=>this.context.getFromScope(e,t.split(".")))},compact:function(e){return vt(e).filter(e=>!b(e))},concat:function(e,t){return vt(e).concat(t)},slice:function(e,t,i=1){return t=t<0?e.length+t:t,e.slice(t,t+i)},where:function(e,t,i){return vt(e).filter(e=>{e=this.context.getFromScope(e,String(t).split("."));return void 0===i?R(e,this.context):e===i})},uniq:function(e){const t={};return(e||[]).filter(e=>!t.hasOwnProperty(String(e))&&(t[String(e)]=!0))},date:function(e,t){let i;return i="now"===e||"today"===e?new Date:v(e)?new Date(1e3*e):p(e)?/^\d+$/.test(e)?new Date(1e3*+e):this.context.opts.preserveTimezones?function(e){if((n=e.match($))&&"Z"===n[1])return new Date(+new Date(e)+6e4*z);if(n&&n[2]&&n[3]&&n[4]){var[,,t,i,n]=n,n=("+"===t?1:-1)*(60*parseInt(i,10)+parseInt(n,10));return new Date(+new Date(e)+6e4*(z+n))}return new Date(e)}(e):new Date(e):e,(n=i)instanceof Date&&!isNaN(n.getTime())?te(i,t):e;var n},Default:function(e,t){return y(e)||p(e)?e.length?e:t:A(m(e),this.context)?t:e},json:function(e){return JSON.stringify(e)},append:function(e,t){return Le(2===arguments.length,()=>"append expect 2 arguments"),g(e)+g(t)},prepend:function(e,t){return Le(2===arguments.length,()=>"prepend expect 2 arguments"),g(t)+g(e)},lstrip:function(e){return g(e).replace(/^\s+/,"")},downcase:function(e){return g(e).toLowerCase()},upcase:function(e){return g(e).toUpperCase()},remove:function(e,t){return g(e).split(String(t)).join("")},removeFirst:function(e,t){return g(e).replace(String(t),"")},rstrip:function(e){return g(e).replace(/\s+$/,"")},split:function(e,t){return g(e).split(String(t))},strip:function(e){return g(e).trim()},stripNewlines:function(e){return g(e).replace(/\n/g,"")},capitalize:function(e){return(e=g(e)).charAt(0).toUpperCase()+e.slice(1).toLowerCase()},replace:function(e,t,i){return g(e).split(String(t)).join(i)},replaceFirst:function(e,t,i){return g(e).replace(String(t),i)},truncate:function(e,t=50,i="..."){return(e=g(e)).length<=t?e:e.substr(0,t-i.length)+i},truncatewords:function(e,t=15,i="..."){const n=e.split(/\s+/);let s=n.slice(0,t).join(" ");return n.length>=t&&(s+=i),s}}),At=class{constructor(){this.impls={}}get(e){var t=this.impls[e];return Le(t,()=>`tag "${e}" not found`),t}set(e,t){this.impls[e]=t}},Pt=class{constructor(e,t){this.strictFilters=e,this.liquid=t,this.impls={}}get(e){var t=this.impls[e];return Le(t||!this.strictFilters,()=>"undefined filter: "+e),t}set(e,t){this.impls[e]=t}create(e,t){return new ct(e,this.get(e),t,this.liquid)}},Dt=class{constructor(e={}){this.options=function(e){const t=Object.assign({},ie,e);return t.partials===ie.partials&&(t.partials=t.root),t.layouts===ie.layouts&&(t.layouts=t.root),t}(function(t){if((t=t||{}).hasOwnProperty("root")&&(t.root=ne(t.root)),t.hasOwnProperty("partials")&&(t.partials=ne(t.partials)),t.hasOwnProperty("layouts")&&(t.layouts=ne(t.layouts)),t.hasOwnProperty("cache")){let e;e="number"==typeof t.cache?0<t.cache?new N(t.cache):void 0:"object"==typeof t.cache?t.cache:t.cache?new N(1024):void 0,t.cache=e}return t.hasOwnProperty("operators")&&(t.operatorsTrie=C(t.operators)),t}(e)),this.parser=new ft(this),this.renderer=new Te,this.filters=new Pt(this.options.strictFilters,this),this.tags=new At,w(qt,(e,t)=>this.registerTag(S(t),e)),w(Rt,(e,t)=>this.registerFilter(S(t),e))}parse(e,t){return this.parser.parse(e,t)}_render(e,t,i){i=new de(t,this.options,i);return this.renderer.renderTemplates(e,i)}async render(e,t){return ye(this._render(e,t,!1))}renderSync(e,t){return we(this._render(e,t,!0))}renderToNodeStream(e,t){t=new de(t,this.options);return this.renderer.renderTemplatesToNodeStream(e,t)}_parseAndRender(e,t,i){e=this.parse(e);return this._render(e,t,i)}async parseAndRender(e,t){return ye(this._parseAndRender(e,t,!1))}parseAndRenderSync(e,t){return we(this._parseAndRender(e,t,!0))}_parsePartialFile(e,t){return this.parser.parseFile(e,t,ue.Partials)}_parseLayoutFile(e,t){return this.parser.parseFile(e,t,ue.Layouts)}async parseFile(e){return ye(this.parser.parseFile(e,!1))}parseFileSync(e){return we(this.parser.parseFile(e,!0))}async renderFile(e,t){e=await this.parseFile(e);return this.render(e,t)}renderFileSync(e,t){e=this.parseFileSync(e);return this.renderSync(e,t)}async renderFileToNodeStream(e,t){e=await this.parseFile(e);return this.renderToNodeStream(e,t)}_evalValue(e,t){const i=new ht(e,this);return i.value(t,!1)}async evalValue(e,t){return ye(this._evalValue(e,t))}evalValueSync(e,t){return we(this._evalValue(e,t))}registerFilter(e,t){this.filters.set(e,t)}registerTag(e,t){this.tags.set(e,t)}plugin(e){return e.call(this,Dt)}express(){const n=this;let s=!0;return function(e,t,i){s&&(s=!1,n.options.root.unshift(...ne(this.root))),n.renderFile(e,t).then(e=>i(null,e),i)}}};function Mt(t,i){i={isInclude:!1,expandBindSyntax:!0,liveMarkup:!0,...i},t=t.toString();const e=new at(t),n=e.readTopLevelTokens();n.reverse().forEach(e=>{t=function(t,e,n){let s=t.getText();if(16===t.kind)return e;if(t.name&&t.name.match(/^end/))return e;var i;if(t.name&&"include_cached"===t.name&&(s=s.replace(/include_cached/,"include")),n&&t.name&&"for"===t.name&&(s=`${s}{% loop_context ${t.args} %}`),n&&t.name&&("assign"===t.name||"local"===t.name)&&(i=t.args.split("=").shift().trim(),s+=`<!--bookshop-live context(${i}="{{${i}}}")-->`),t.name&&"bookshop_include"===t.name){let i;if(t.name="include",s=s.replace(/bookshop_include (\S+)/,(e,t)=>"include _bookshop_include_"+(i=t)),n){let e=t.args.split(" ");e.shift(),s=`<!--bookshop-live name(${i}) params(${e.join(" ")})-->${s}<!--bookshop-live end-->`}}if(t.name&&"bookshop"===t.name){let i;if(t.name="include",s=s.replace(/bookshop (\S+)/,(e,t)=>"include _bookshop_"+(i=t)),n){let e=t.args.split(" ");e.shift(),s=`<!--bookshop-live name(${i}) params(${e.join(" ")})-->${s}<!--bookshop-live end-->`}}return t.name&&t.name.match(/^include/)&&(s=s.replace(/=/g,": "),s=s.replace(/\%\s+?include\s([^"'][^\s]+)/gi,'% include "$1"')),[e.substr(0,t.begin),s,e.substr(t.end)].join("")}(e,t,i.liveMarkup)});var s=i.isInclude?"{% emulate_jekyll %}":"";return(i.expandBindSyntax?"{% unbind %}":"")+s+t}function It(e){this.registerFilter("jsonify",e=>JSON.stringify(e))}var Ct,zt,$t=(Ct=l(),((t,i,n)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let e of a(i))o.call(t,e)||"default"===e||s(t,e,{get:()=>i[e],enumerable:!(n=r(i,e))||n.enumerable});return t})((zt=s(null!=Ct?i(n(Ct)):{},"default",Ct&&Ct.__esModule&&"default"in Ct?{get:()=>Ct.default,enumerable:!0}:{value:Ct,enumerable:!0}),s(zt,"__esModule",{value:!0})),Ct));function Ht(e){this.registerFilter("slugify",e=>e&&"string"==typeof e?(0,$t.default)(e).toLowerCase():e)}function Ut(e){this.registerTag("unbind",{parse:function(e){},render:function(e,t){var i=e.scopes.length-1;return"object"==typeof e.scopes[i].bind&&(e.scopes[i]={...e.scopes[i].bind,...e.scopes[i],bind:null}),""}})}function Bt(e){this.registerTag("loop_context",{parse:function(e){this.args=e.args},render:function(e,t){return`<!--bookshop-live context(${this.args.replace(/\binclude\./,"").replace(/\s+in\s+/,"=").split(" ")[0]}[${e.get(["forloop","index0"])}])-->`}})}function Vt(e){this.registerTag("emulate_jekyll",{parse:function(e){},render:function(e,t){var i=e.scopes.length-1;return e.scopes[i]={include:e.scopes[i]},""}})}function Yt(e){this.registerTag("local",{parse:function(e){const t=new at(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),Le("="===t.peek(),()=>"illegal token "+e.getText()),t.advance(),this.value=t.remaining()},render:function(e){e.scopes[e.scopes.length-1][this.key]=this.liquid.evalValueSync(this.value,e)}})}function Jt(e){this.registerTag("highlight",{parse:function(e){this.lang=e.args.split(" ")[0]},render:function(e,t){return`<figure class="highlight"><pre><code class="language-${this.lang}" data-lang="${this.lang}">`}}),this.registerTag("endhighlight",{parse:function(e){},render:function(e,t){return"</code></pre></figure>"}})}St={"components/blog-card/blog-card.jekyll.html":'{% assign c = "c-blog-card" %}\n<div class="{{c}} col col-4 col-d-6 col-t-12">\n  <div class="{{c}}__inner">\n\n    {% if include.post.image %}\n    <div class="{{c}}__image-wrap">\n      <a class="{{c}}__image" href="{{ include.post.url }}">\n        <img loading="lazy" src="{{ include.post.image }}" alt="{{ include.post.title }}">\n      </a>\n    </div>\n    {% endif %}\n\n    <div class="{{c}}__content">\n\n      {% if include.post.tags.size >= 1 %}\n      <div class="{{c}}__tags-box">\n        {% for tag in include.post.tags %}\n        <a href="{{ site.baseurl }}/tag/{{ tag | downcase }}" class="{{c}}__tag">{{ tag }}</a>\n        {% endfor %}\n      </div>\n      {% endif %}\n\n      <h2 class="{{c}}__title">\n        <a href="{{ include.post.url }}">{{ include.post.title }}</a>\n      </h2>\n\n      <p class="{{c}}__excerpt">\n        {% if include.post.description %}{{ include.post.description }}{% else %}{{ include.post.content | strip_html | truncate: 120 }}{% endif\n        %}\n      </p>\n\n      <div class="{{c}}__meta">\n        <div class="{{c}}__author-image">\n          <img loading="lazy" src="{{ site.data.author.author_image }}" alt="{{ site.data.author.author_name }}">\n        </div>\n        <div class="{{c}}__info">\n          <div class="{{c}}__author-name">{{ site.data.author.author_name }}</div>\n          <span class="{{c}}__date"><time datetime="{{ include.post.date | date_to_xmlschema }}">{{ include.post.date | date_to_string\n              }}</time></span>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>',"components/blog-section/blog-section.jekyll.html":'\x3c!-- begin blog --\x3e\n<section class="section blog">\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n        <div class="contaniner__inner animate">\n\n          <div class="section__info">\n            <div class="section__head">\n              <h2 class="section__title">{{ include.title }}</h2>\n              <a class="section__link" href="{{ include.link_url | relative_url }}">View all <i class="ion ion-md-arrow-forward"></i></a>\n            </div>\n            <div class="section__description">{{ include.description_html }} </div>\n          </div>\n\n          {% if include.show_posts %}\n          <div class="row">\n            {% if site.posts.size > 0 %}\n              {% for post in site.posts offset:0 limit:3 %}\n                {% bookshop blog-card post=post %}\n              {% endfor %}\n            {% endif %}\n          </div>\n          {% endif %}\n\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\x3c!-- end blog --\x3e'};St["components/button/button.jekyll.html"]=`<a class="c-button c-button--{{include.type | slugify}} c-button--{{include.width | slugify | default: 'small'}}"
   href="{{ include.link_url }}"
   {% if include.open_in_new_tab %}
        target="_blank"
    {% endif %}>
    {{ include.label }}
</a>
`,St["components/contact-form/contact-form.jekyll.html"]='\x3c!-- begin contact --\x3e\n{% assign c = "c-contact-form" %}\n<div class="{{c}}" id="contact">\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n\n        <div class="{{c}}__form-box">\n          <div class="{{c}}__contact-head">\n            <h2 class="{{c}}__contact-title">{{ include.form_title }}</h2>\n            <p class="{{c}}__contact-description">{{ include.form_description }}</p>\n          </div>\n          <form class="{{c}}__form"\n            action="{{include.form_success_page}}"\n            method="POST">\n            <input type="hidden" name="_to" value="{{include.form_submission_email}}">\n            <div class="{{c}}__form-group">\n              <label class="{{c}}__form-label screen-reader-text" for="form-name">Your Name</label>\n              <input class="{{c}}__form-input" id="form-name" type="text" name="name" placeholder="Your name..." required>\n            </div>\n            <div class="{{c}}__form-group">\n              <label class="{{c}}__form-label screen-reader-text" for="form-email">Your Email</label>\n              <input class="{{c}}__form-input" id="form-email" type="email" name="_replyto" placeholder="Your email..."\n                required>\n            </div>\n            <div class="{{c}}__form-group">\n              <label class="{{c}}__form-label screen-reader-text" for="form-text">Your Message</label>\n              <textarea class="{{c}}__form-input" id="form-text" name="text" rows="9" placeholder="Your message..."\n                required></textarea>\n            </div>\n            <div class="{{c}}__form-group {{c}}__form-group--button">\n              <button class="c-button c-button--primary c-button--large" type="submit">{{ include.form_button_text }}</button>\n            </div>\n          </form>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n\x3c!-- end contact --\x3e',St["components/content/content.jekyll.html"]='<div class="container">\n  <div class="page animate">\n    {{include.content_html }}\n  </div>\n</div>',St["components/hero/hero.jekyll.html"]='\x3c!-- begin hero --\x3e\n{% assign c = "c-hero" %}\n<section class="{{c}} animate">\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n        <div class="{{c}}__inner">\n\n          <div class="{{c}}__left">\n            <h1 class="{{c}}__title">{{ include.title }}</h1>\n            <div class="{{c}}__description">{{ include.description_html }}</div>\n            <div class="{{c}}__btn">\n              <a href="{{ include.cta_button_link }}" class="cta-button c-button c-button--primary c-button--small">{{ include.cta_button }}</a>\n              <a class="works-button c-button c-button--secondary c-button--small" href="{{ include.works_button_link }}">\n                <span class="circle-bg"><i class="ion ion-md-arrow-down button-arrow"></i></span> {{ include.works_button }}\n              </a>\n            </div>\n          </div>\n\n          <div class="{{c}}__right">\n            <div class="{{c}}__image">\n              <img loading="lazy" src="{{ include.image }}" alt="{{ include.hero_image_alt }}">\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\x3c!-- end hero --\x3e',St["components/newsletter/newsletter.jekyll.html"]=`<!-- begin subscribe -->
{% assign c = "c-subscribe" %}
<section class="{{c}} section">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <div class="{{c}}__inner">
          <div class="{{c}}__info">
            <h3 class="{{c}}__title">{{ include.newsletter_title }}</h3>
            <div class="{{c}}__subtitle">
              <span id="ityped"></span>
            </div>
          </div>

          <form class="{{c}}__form validate" action="//{{ include.newsletter_identifier }}"
            method="POST" id="membedded-subscribe-form" name="membedded-subscribe-form" target="_blank" novalidate>
            <label class="screen-reader-text" for="mce-EMAIL">Email address</label>
            <input class="{{c}}__form-email required email" id="mce-EMAIL" type="text" name="EMAIL" placeholder="Your email address">
            <button class="c-button c-button--primary c-button--large" id="membedded-subscribe" type="submit" name="subscribe">{{ include.newsletter_button }}</button>
          </form>

        </div>
      </div>
    </div>
  </div>
</section>
<!-- end subscribe -->

<script>
  var itype_text = ['{{ include.newsletter_description }}'];
</script>`,St["components/page-heading/page-heading.jekyll.html"]='{% assign c = "c-page-heading" %}\n<div class="container">\n  <div class="{{c}}">\n    <h1 class="{{c}}__title">{{ include.title }}</h1>\n    {% if include.description %}\n      <p class="{{c}}__description">{{ include.description }}</p>\n    {% endif %}\n  </div>\n</div>',St["components/page-image/page-image.jekyll.html"]='{% assign c = "c-page-image" %}\n<div class="container">\n  <div class="row">\n    <div class="col col-12">\n      <div class="{{c}} animate">\n        <img loading="lazy" src="{{ include.image }}" alt="{{ include.image_alt }}">\n      </div>\n    </div>\n  </div>\n</div>',St["components/page/page.jekyll.html"]='{% if include.content_blocks.size > 0 %}\n<div class="c-page">\n\n{% for block in include.content_blocks %}\n    {% bookshop {{block._bookshop_name}} bind=block %}\n{% endfor %}\n\n</div>\n{% endif %}',St["components/posts-list/posts-list.jekyll.html"]='{% if include.show_posts %}\n<div class="container animate">\n  <div class="row" data-pagebreak="6">\n    {% for post in site.posts %}\n      {% bookshop blog-card post=post %}\n    {% endfor %}\n  </div>\n</div>\n\n{% bookshop_include pagination %}\n{% endif %}',St["components/project-card/project-card.jekyll.html"]='{% assign c = "c-project-card" %}\n<article class="{{c}} col col-4 col-d-6 col-t-12">\n  <div class="{{c}}__content">\n    <a href="{{ include.project.url }}" class="{{c}}__image">\n      <img loading="lazy" src="{{ include.project.image }}" alt="{{ include.project.title }}">\n    </a>\n    <div class="{{c}}__info">\n      <div class="{{c}}__info-wrap">\n        <h3 class="{{c}}__title">{{ include.project.title }}</h3>\n      </div>\n      <div class="{{c}}__info-wrap">\n        {% if include.project.subtitle %}\n        <div class="{{c}}__subtitle">{{ include.project.subtitle }}</div>\n        {% endif %}\n      </div>\n    </div>\n  </div>\n</article>',St["components/projects-list/projects-list.jekyll.html"]='{% if include.show_projects %}\n<div class="container animate">\n  <div class="row">\n    {% for project in site.projects %}\n      {% bookshop project-card project=project %}\n    {% endfor %}\n  </div>\n</div>\n{% endif %}',St["components/projects-section/projects-section.jekyll.html"]='\x3c!-- begin projects --\x3e\n<section class="section projects" id="projects">\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n        <div class="contaniner__inner animate">\n\n          <div class="section__info">\n            <div class="section__head">\n              <h2 class="section__title">{{ include.title }}</h2>\n              <a class="section__link" href="{{ include.link_url }}">View all <i class="ion ion-md-arrow-forward"></i></a>\n            </div>\n            <div class="section__description">{{ include.description_html }}</div>\n          </div>\n\n          {% if include.show_projects %}\n          <div class="row">\n            {% for project in site.projects %}\n              {% if forloop.index <= 6 %}\n                {% bookshop project-card project=project %}\n              {% endif %}\n            {% endfor %}\n          </div>\n          {% endif %}\n\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n\x3c!-- end projects --\x3e',St["components/testimonial-card/testimonial-card.jekyll.html"]='{% assign c = "c-testimonial-card" %}\n<div class="{{c}}">\n  <div class="{{c}}__content">\n    <div class="{{c}}__client-meta">\n      {% if include.testimonial-item.image %}\n        <div class="{{c}}__image-container">\n          <img class="{{c}}__client-avatar" src="{{ include.testimonial-item.image }}" alt="{{ include.testimonial-item.name }}">\n        </div>\n      {% endif %}\n      <div class="{{c}}__client-info">\n        {% if include.testimonial-item.name %}\n          <h3 class="{{c}}__client-name">{{ include.testimonial-item.name }}</h3>\n        {% endif %}\n        {% if include.testimonial-item.position %}\n          <p class="{{c}}__client-position">{{ include.testimonial-item.position }}</p>\n        {% endif %}\n      </div>\n    </div>\n    {% if include.testimonial-item.blurb %}\n      <p class="{{c}}__client-text">{{ include.testimonial-item.blurb }}</p>\n    {% endif %}\n  </div>\n</div>',St["components/testimonials-section/testimonials-section.jekyll.html"]='\x3c!-- begin testimonials --\x3e\n<section class="section testimonials animate">\n  <div class="container">\n    <div class="row">\n      <div class="col col-12">\n\n        <div class="section__info">\n          <div class="section__head">\n            <h2 class="section__title">{{ include.title }}</h2>\n            <ul class="controls list-reset" id="customize-controls" aria-label="Slider Navigation" tabindex="0">\n              <li class="prev" data-controls="prev" aria-controls="customize" tabindex="-1">\n                <i class="ion ion-ios-arrow-back"></i>\n              </li>\n              <li class="next" data-controls="next" aria-controls="customize" tabindex="-1">\n                <i class="ion ion-ios-arrow-forward"></i>\n              </li>\n            </ul>\n          </div>\n          <div class="section__description">{{ include.description_html }}</div>\n        </div>\n\n        {% if include.show_testimonials %}\n        <div class="testimonials__slider my-slider">\n          {% for testimonial-item in site.testimonials %}\n            {% bookshop testimonial-card testimonial-item=testimonial-item %}\n          {% endfor %}\n        </div>\n        {% endif %}\n\n      </div>\n    </div>\n  </div>\n</section>\n\x3c!-- end testimonials --\x3e',St["shared/jekyll/pagination.jekyll.html"]='\x3c!-- begin pagination --\x3e\n<nav class="pagination">\n  <div class="container">\n    <div class="pagination__inner">\n\n      <div class="pagination__list">\n        {% capture prev_text %}<i class="ion ion-ios-arrow-back"></i> Prev{% endcapture %}\n        <a data-pagebreak-control="prev" href="." class="pagination__prev">{{prev_text}}</a>\n        <span data-pagebreak-control="!prev" class="pagination__prev disabled">{{prev_text}}</span>\n\n        <div class="pagination__count">\n          Page <span data-pagebreak-control="current">1</span>\n          of <span data-pagebreak-control="total">1</span>\n        </div>\n\n        {% capture next_text %}Next <i class="ion ion-ios-arrow-forward"></i>{% endcapture %}\n        <a data-pagebreak-control="next" href="." class="pagination__next">{{next_text}}</a>\n        <span data-pagebreak-control="!next" class="pagination__next disabled">{{next_text}}</span>\n      </div>\n\n    </div>\n  </div>\n</nav>\n\x3c!-- end pagination --\x3e\n',St["shared/jekyll/social-link.jekyll.html"]='{% if site.data.social_links.social %}\n<div class="social">\n  <ul class="social__list list-reset">\n    {% for social in site.data.social_links.social %}\n    <li class="social__item">\n      <a class="social__link" href="{{social.link}}" target="_blank" rel="noopener" aria-label="{{social.icon | downcase}} icon"><i class="ion ion-logo-{{social.icon | downcase}}"></i></a>\n    </li>\n    {% endfor %}\n  </ul>\n</div>\n{% endif %}';l=St,St=[];St.push(new class{constructor(e){e={name:"Jekyll",files:{},...e},this.key="jekyll",this.name=e.name,this.files=e.files,this.plugins=e.plugins||[],this.plugins.push(It,Ht,Ut,Vt,Yt,Jt,Bt),this.initializeLiquid(),this.applyLiquidPlugins()}initializeLiquid(){const t=this;this.liquid=new Dt({fs:{readFileSync(e){return"LiquidJS readFileSync unimplemented"},async readFile(e){return t.retrieveInclude(e)},existsSync(){return!0},async exists(){return!0},resolve(e,t,i){return t}}})}async retrieveInclude(e){let t;return t=/^_bookshop_include_/.test(e)?this.getShared(e.replace(/^_bookshop_include_/,"")):/^_bookshop_/.test(e)?this.getComponent(e.replace(/^_bookshop_/,"")):this.files?.[e],t||""===t?Mt(t,{isInclude:!0}):(console.warn("[jekyll-engine] No file found for "+e),"")}applyLiquidPlugins(){this.plugins.forEach(e=>{this.liquid.plugin(e)})}getShared(e){return this.files?.[`shared/jekyll/${e}.jekyll.html`]}getComponentKey(e){var t=e.split("/").reverse()[0];return`components/${e}/${t}.jekyll.html`}getComponent(e){e=this.getComponentKey(e);return this.files?.[e]}hasComponent(e){e=this.getComponentKey(e);return!!this.files?.[e]}async render(e,t,i,n){let s=this.getComponent(t);if(s=s||this.getShared(t),!s)return console.warn("[jekyll-engine] No component found for "+t),"";s=Mt(s,{}),i={...n=!n||"object"!=typeof n?{}:n,include:i},e.innerHTML=await this.liquid.parseAndRender(s||"",i)}loader(){}}({plugins:[],files:l}));var Wt=St;window.BookshopLive=class{constructor(e){this.engines=Wt,this.elements=[],this.globalData={},e?.remoteGlobals?.forEach(this.fetchGlobalData.bind(this))}async fetchGlobalData(e){const t=await fetch(e);e=await t.json();Object.assign(this.globalData,e)}readElement(e){return{dom:e,originalHTML:e.innerHTML,componentName:e.dataset.bookshopLive,componentPropSource:e.dataset.bookshopProps}}async renderElement(t,e,i,n){try{await this.engines[0].render(n,t,e,{...this.globalData,...i})}catch(e){console.warn("Error rendering bookshop component "+t,e),console.warn("This is expected in certain cases, and may not be an issue, especially when deleting or re-ordering components.")}}update(e){this.data=e,this.render()}async render(){const e=document.implementation.createHTMLDocument(),t=document.evaluate("//comment()[contains(.,'bookshop-live')]",document,null,XPathResult.ANY_TYPE,null),n=[],i=[];let s={},r=t.iterateNext();for(;r;){const u=r.textContent.match(/bookshop-live ((?<end>end)|name\((?<name>[^)]*)\) params\((?<params>[^)]*)\)).*/),d=r.textContent.match(/bookshop-live.*context\((?<context>[^)]*)\)/);if(d?.groups.context){const p={...n[n.length-1]?.scope??this.data,...s};d.groups.context.replace(/: /g,"=").split(" ").forEach(e=>{var[t,e]=e.split("=");s[t]=this.dig(e,p)})}if(u?.groups.end){var{startNode:a,name:o,scope:l,bindings:c}=n.pop(),h=e.createElement("div");await this.renderElement(o,l,c,h),i.push({startNode:a,endNode:r,output:h})}else if(u){let i={};const f={...n[n.length-1]?.scope??this.data,...s};u.groups.params.replace(/: /g,"=").split(" ").forEach(e=>{var[t,e]=e.split("=");"bind"===t?i={...i,...this.dig(e,f)}:i[t]=this.dig(e,f)}),n.push({startNode:r,name:u.groups.name.split("/").pop().split(".").shift(),bindings:JSON.parse(JSON.stringify(s)),scope:i})}r=t.iterateNext()}i.forEach(({startNode:e,endNode:t,output:i})=>{let n=e.nextSibling,s="";for(;n&&0!=(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING);){switch(n.nodeType){case Node.ELEMENT_NODE:s+=n.outerHTML;break;case Node.COMMENT_NODE:s+=`<!--${n.textContent}-->`;break;default:s+=n.textContent||""}n=n.nextSibling}if(s!==i.innerHTML){for(n=e.nextSibling;n&&0!=(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING);){var r=n.nextSibling;n.remove(),n=r}(i=t.parentNode.insertBefore(i,t)).outerHTML=i.innerHTML}})}dig(e,t){if(!e)return null;if("string"==typeof e&&/^('|").*('|")$/.test(e))return e.substr(1,e.length-2);const i=(e=!Array.isArray(e)?e.split("."):e).shift();var n=i.match(/(?<key>.*)\[(?<index>\d*)\]$/);return t={...this.globalData,...t??this.data},(t=n?((t=(t??this.data)[n.groups.key])??this.data)[parseInt(n.groups.index)]:(t??this.data)[i])&&e.length?this.dig(e,t):t}}})();